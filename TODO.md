# 人類史シミュレーター 開発状況・TODO (2026-02-21)

## 1. 現状のまとめ (Current Status)

本プロジェクトは、-1000万年から現在、そして未来（2100年）までの人類史を可視化するインタラクティブ・シミュレーターです。
現在、MVP（最少実行可能製品）のコア機能が概ね実装され、データの充実フェーズに入っています。

### 完了した主要機能 (Completed Goals)

- **タイムライン制御**:
  - 全時代（起源〜現代）のスライダー操作と再生機能。
  - **近現代（1868年〜）の高精度化**: 0.1年刻み（約1.2ヶ月単位）の操作、および「年月日」形式の表示。
- **マルチレイヤー地図 (MapLibre GL)**:
  - 古地理（氷床・陸地露出）の動的表示。
  - 人類拡散（グレート・ジャーニー）の経路表示。
  - 歴史的イベントのマーカー表示。
- **統計バッジ (Real-time Stats)**:
  - **推定平均寿命**: 年代に応じた変動（20歳〜80歳）。
  - **人口統計 (世界・日本)**: 絶滅危惧期から現代の80億人、日本の1.2億人までの推移をリアルタイム表示。
  - **地球平均気温**: 地質学的年代から地球温暖化までの気温変動。
- **詳細表示システム**:
  - イベントクリックによる詳細モーダル表示。
  - 外部ソース（Wikipediaなど）へのリンク機能。
  - 主要なボトルネック事変（トバ事変、出アフリカ、最終氷期）の詳説。
- **多地域対応時代区分**:
  - 世界、日本、**中国（NEW）**の時代区分を同時に表示するマルチタイムライン・オーバーレイ。
  - 日本の元号（明治・大正・昭和・平成・令和）の正確な開始日反映。

### 最新の修正 (Latest Fixes: 2026-02-21)

- 明治の開始日を「1868年10月23日」に精密設定。
- 中国の歴代王朝（夏〜中華人民共和国）のデータ拡充。
- AIの歴史（2020年〜）の詳細トピックス追加。
- ステータスバッジの垂直スタック・レイアウトの最適化。

---

## 2. 次回以降のTODO (Future Tasks)

### エンタメ性向上・演出のアイデア (Entertainment & Presentation Ideas)

- [x] **絶滅の危機（ボトルネック）の演出**: トバ火山噴火や氷河期など、人口が激減するタイミングで画面上に非常事態（赤みアラートや凍結）のエフェクトを入れる。
- [x] **巨大生物（メガファウナ）の表現**: マンモス等の生息エリアやアイコンをマップ上に表示し、人類の拡散・気候変動に合わせて絶滅していく様子を可視化。
- [x] **他の人類（ネアンデルタール人等）との勢力図**: 複数種の人類の分布域を色分けし、交雑や絶滅の過程を陣取りゲームのように見せる。
- [x] **テクノロジー解放の派手な演出（文明ゲーム風）**: 「火の利用」「石斧」などの重要技術獲得を、スキルツリー解放のようなエフェクトやバッジで祝福する。

### データの拡充 (Data Expansion)

- [ ] **多地域時代区分の追加**: 欧州、中東、インド、中南米の時代区分レイヤーの実装。
- [ ] **主要国人口・気温の細分化**: 国別の人口推移データ、地域別の気候。
- [ ] **日本の詳細な統計情報の追加（NEW）**: 日本のGDP推移、日本平均気温、日経平均株価など、近現代日本にフォーカスした際のリアルタイム統計指標バッジ・グラフの追加。
- [ ] **歴史的イベントの網羅**: 各時代区分（中世・近世など）に合わせた重要イベントの数値を増やす（現在はAI、科学、日本史が中心）。

### 機能・UIの改善 (UI/UX Refinement)

- [x] **情報量の重要度フィルター機能（NEW）**: イベントやトピックスに3〜5段階の重要度属性を持たせ、UI上（右上など）から「簡略版 / 通常版 / 詳細版」等を切り替えられる仕組みを実装。現状の"全て載せる"ことによるごちゃつきを解消する。
- [ ] **特定地域（国）フォーカスUIの追加（NEW）**: 「詳細版」の延長として、「日本史フォーカス（戦国時代などを詳細化）」「中国史フォーカス（三国志などを詳細化）」といった特化型UIモードを実装。
- [ ] **画像アセットの統合**: モーダル内に各イベントの象徴的な画像を表示（現在は枠のみ）。
- [ ] **グラフ表示モード**: 現在のバッジ形式だけでなく、時系列グラフを表示するパネルの追加。
- [ ] **モバイル最適化**: スマホ画面でのバッジの重なり、スライダー操作の更なる精緻化。

### 技術的な課題 (Technical Improvements)

- [ ] **データの動的ロード**: 分割したhistoryデータの更なる最適化。
- [ ] **検索機能**: 特定のイベントや時代へジャンプする検索バーの追加。

### 公開と収益化 (Deployment & Monetization)

- [ ] **Web公開（デプロイ）**: ユーザーがブラウザからアクセスして遊べるように、Vercel, GitHub Pages, または Cloudflare Pages などにデプロイするビルドと公開設定。
- [ ] **マネタイズ機能（AdSense等）の導入**: 画面の隅や操作の妨げにならない位置（もしくはローディング画面など）にGoogle AdSense等の広告タグを配置し、アクセス流入からの収益化を図る。SEO対策（meta要素、OGP設定）も合わせて実施する。

---

## 3. 継続のためのガイド (How to Continue)

### 主要ファイル構成

- `/src/App.tsx`: メインロジック、UI、地図制御。
- `/src/App.css`: 洗練されたプレミアムデザインの定義。
- `/src/data/history/`: 時代別に分割された歴史イベントデータ。
- `/src/data/eras.ts`: 地域ごとの時代区分定義（JAPAN, CHINA, WORLD）。
- `/src/data/population.ts`: 人口推移データ。
- `/src/data/temperature.ts`: 気温データ。

### 開発の進め方

1. `npm run dev` でローカルサーバーを起動。
2. スライダーを動かしてデータの同期を確認。
3. `src/data/history/` の各ファイルにイベントを追記することで、容易にコンテンツを増やせます。

---
*最終更新者: Antigravity (AI Assistant)*
